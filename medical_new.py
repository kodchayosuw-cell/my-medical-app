import streamlit as st
import pandas as pd
from datetime import datetime
import os
import pytz

# --- 1. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö (‡∏Ñ‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£) ---
st.set_page_config(page_title="Kodchayo Medical System 2026", page_icon="‚öïÔ∏è", layout="wide")

def local_css():
    st.markdown("""
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap');
    html, body, [class*="css"] { font-family: 'Sarabun', sans-serif; background-color: #f8fafc; }
    .main-header { background: linear-gradient(90deg, #1e3a8a 0%, #3b82f6 100%); padding: 20px; border-radius: 10px; color: white; text-align: center; margin-bottom: 25px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
    .login-box { background-color: white; padding: 40px; border-radius: 20px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); border: 1px solid #e2e8f0; }
    .patient-card { background-color: #ffffff; padding: 15px; border-radius: 10px; border-top: 4px solid #3b82f6; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    section[data-testid="stSidebar"] { background-color: #0f172a !important; }
    section[data-testid="stSidebar"] .stMarkdown, section[data-testid="stSidebar"] p { color: #f1f5f9 !important; }
    div.stButton > button { border-radius: 8px; transition: all 0.3s; font-weight: 600 !important; text-transform: uppercase; letter-spacing: 0.5px; }
    div.stButton > button:hover { border-color: #3b82f6; color: #3b82f6 !important; transform: translateY(-1px); }
    .stTable { background-color: white; border-radius: 10px; overflow: hidden; }
    </style>
    """, unsafe_allow_html=True)

local_css()

# --- 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡πâ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô) ---
LOG_FILE = "medical_history_v2.csv"

def save_to_history(user, weight, age, symptoms, drugs, privilege, total_price):
    try:
        tz = pytz.timezone('Asia/Bangkok')
        now_thailand = datetime.now(tz)
        clean_symptoms = "; ".join(symptoms).replace("|", "-")
        clean_drugs = "; ".join(drugs).replace("|", "-")
        
        new_data = {
            "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà-‡πÄ‡∏ß‡∏•‡∏≤": [now_thailand.strftime("%Y-%m-%d %H:%M:%S")],
            "‡∏ú‡∏π‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏¢‡∏≤": [user],
            "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤": [privilege],
            "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (kg)": [weight],
            "‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏õ‡∏µ)": [age],
            "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": [clean_symptoms],
            "‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢": [clean_drugs],
            "‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô": [f"{total_price}"]
        }
        new_df = pd.DataFrame(new_data)
        
        # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        file_exists = os.path.isfile(LOG_FILE)
        
        # ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ encoding utf-8-sig ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÉ‡∏ô Excel
        new_df.to_csv(LOG_FILE, mode='a', index=False, sep='|', header=not file_exists, encoding="utf-8-sig")
        return True
    except Exception as e:
        st.error(f"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å: {e}")
        return False

def delete_history():
    if os.path.exists(LOG_FILE):
        os.remove(LOG_FILE)
        return True
    return False

# --- 3. ‡∏£‡∏∞‡∏ö‡∏ö Login ---
USERS_DB = {"admin": "password123", "kodchayo_suw": "2012", "Thirachai": "7547"}

def login():
    if "logged_in" not in st.session_state: st.session_state.logged_in = False
    if not st.session_state.logged_in:
        _, col2, _ = st.columns([1, 1.2, 1])
        with col2:
            st.markdown("<br><br>", unsafe_allow_html=True)
            st.markdown("<div class='login-box'><h1 style='text-align: center; color: #1e3a8a;'>‚öïÔ∏è KODCHAYO</h1><p style='text-align: center; color: #64748b; margin-bottom: 30px;'>Medical Dispensing System 2026 DEMO</p>", unsafe_allow_html=True)
            with st.form("login_form"):
                user = st.text_input("Username")
                pw = st.text_input("Password", type="password")
                submit = st.form_submit_button("Sign In", use_container_width=True)
                if submit:
                    if user in USERS_DB and USERS_DB[user] == pw:
                        st.session_state.logged_in, st.session_state.user = True, user
                        st.rerun()
                    else: st.error("‚ùå ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")
            st.markdown("</div>", unsafe_allow_html=True)
        return False
    return True

if login():
    # --- 4. Sidebar ---
    with st.sidebar:
        st.markdown("## ‚öôÔ∏è Administration")
        st.info(f"Logged in as: **{st.session_state.user}**")
        st.markdown("---")
        if st.button("Log Out", use_container_width=True):
            st.session_state.logged_in = False
            st.rerun()

    # --- 5. ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏≤ (‡∏Ñ‡∏á‡πÑ‡∏ß‡πâ‡∏ï‡∏≤‡∏°‡πÄ‡∏î‡∏¥‡∏°) ---
    med_list = [
        {"ICD10": "R50.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏°‡∏µ‡πÑ‡∏Ç‡πâ / ‡∏ï‡∏±‡∏ß‡∏£‡πâ‡∏≠‡∏ô / ‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Paracetamol Syrup (120mg/5ml)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Paracetamol (500mg)", "mg_ml": 24, "mg_kg": 10, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 4, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏∏‡∏Å 4-6 ‡∏ä‡∏°. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏¥‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡∏ß‡∏±‡∏ô"},
        {"ICD10": "R05", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÑ‡∏≠‡∏°‡∏µ‡πÄ‡∏™‡∏°‡∏´‡∏∞", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Bromhexine Syrup (4mg/5ml)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Bromhexine (8mg)", "mg_ml": 0.8, "mg_kg": 0.15, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏ä‡πâ‡∏≤-‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏Å‡πÜ"},
        {"ICD10": "R05", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÑ‡∏≠‡πÅ‡∏´‡πâ‡∏á / ‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡∏Ñ‡∏≠", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "M.Mist.Tussis (‡∏¢‡∏≤‡∏ô‡πâ‡∏≥‡πÅ‡∏Å‡πâ‡πÑ‡∏≠)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Dextromethorphan", "mg_ml": 1, "mg_kg": 0.2, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏ä‡πâ‡∏≤-‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏á‡πà‡∏ß‡∏á‡∏ô‡∏≠‡∏ô"},
        {"ICD10": "J02.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏à‡πá‡∏ö‡∏Ñ‡∏≠ (‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö/‡∏°‡∏µ‡∏´‡∏ô‡∏≠‡∏á)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Amoxicillin Syrup (250mg/5ml)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Amoxicillin 500", "mg_ml": 50, "mg_kg": 15, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 2, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡πÅ‡∏ú‡∏á/‡∏´‡∏°‡∏î‡∏Ç‡∏ß‡∏î"},
        {"ICD10": "J00", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏Ñ‡∏±‡∏î‡∏à‡∏°‡∏π‡∏Å / ‡∏ô‡πâ‡∏≥‡∏°‡∏π‡∏Å‡πÑ‡∏´‡∏• (‡∏á‡πà‡∏ß‡∏á)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "CPM Syrup (2mg/5ml)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "CPM (4mg)", "mg_ml": 0.4, "mg_kg": 0.1, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏∏‡∏Å 6-8 ‡∏ä‡∏°. ‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏á‡πà‡∏ß‡∏á‡∏ô‡∏≠‡∏ô‡∏°‡∏≤‡∏Å"},
        {"ICD10": "J30.1", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÅ‡∏û‡πâ‡∏≠‡∏≤‡∏Å‡∏≤‡∏® (‡πÑ‡∏°‡πà‡∏á‡πà‡∏ß‡∏á)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Loratadine Syrup (5mg/5ml)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Loratadine (10mg)", "mg_ml": 1, "mg_kg": 0.2, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÉ‡∏ô‡πÇ‡∏£‡∏Ñ‡∏ï‡∏±‡∏ö"},
        {"ICD10": "K29.7", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡∏ó‡πâ‡∏≠‡∏á (‡πÇ‡∏£‡∏Ñ‡∏Å‡∏£‡∏∞‡πÄ‡∏û‡∏≤‡∏∞)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Antacid Gel", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Antacid Tablet", "mg_ml": 1, "mg_kg": 0.5, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ 30 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡πÄ‡∏Ç‡∏¢‡πà‡∏≤‡∏Ç‡∏ß‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ"},
        {"ICD10": "K21.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÅ‡∏™‡∏ö‡∏£‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏Å (‡∏Å‡∏£‡∏î‡πÑ‡∏´‡∏•‡∏¢‡πâ‡∏≠‡∏ô)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Gaviscon Suspension", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Gaviscon Tablet", "mg_ml": 1, "mg_kg": 0.5, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡∏ô‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "R14", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ó‡πâ‡∏≠‡∏á‡∏≠‡∏∑‡∏î / ‡∏°‡∏µ‡∏•‡∏° / ‡πÅ‡∏ô‡πà‡∏ô‡∏ó‡πâ‡∏≠‡∏á", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Air-X Drops", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Air-X (Simethicone)", "mg_ml": 1, "mg_kg": 0.3, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ 3 ‡∏°‡∏∑‡πâ‡∏≠", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡πÄ‡∏Ñ‡∏µ‡πâ‡∏¢‡∏ß‡πÄ‡∏°‡πá‡∏î‡∏¢‡∏≤‡πÉ‡∏´‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"},
        {"ICD10": "A09", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ó‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢ (‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡∏ß‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "ORS (‡∏ú‡∏á‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÅ‡∏£‡πà‡πÄ‡∏î‡πá‡∏Å)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "ORS (‡∏ú‡∏á‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÅ‡∏£‡πà)", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "1 ‡∏ã‡∏≠‡∏á‡∏ï‡πà‡∏≠‡∏ô‡πâ‡∏≥ 250-750 ‡∏°‡∏•.‡∏à‡∏¥‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡∏ß", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÅ‡∏£‡πà‡∏™‡∏õ‡∏≠‡∏£‡πå‡∏ï"},
        {"ICD10": "A05.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡∏©", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Activated Charcoal", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Activated Charcoal", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡∏¥‡∏ô‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏¢‡∏≤‡∏≠‡∏∑‡πà‡∏ô 2 ‡∏ä‡∏°.", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ ‡πÉ‡∏ô‡∏†‡∏≤‡∏ß‡∏∞‡∏•‡∏≥‡πÑ‡∏™‡πâ‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô ‡πÅ‡∏ú‡∏•‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡πÄ‡∏û‡∏≤‡∏∞/‡∏•‡∏≥‡πÑ‡∏™‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡∏†‡∏≤‡∏ß‡∏∞‡∏Ç‡∏≤‡∏î‡∏ô‡πâ‡∏≥‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á"},
        {"ICD10": "R11", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏™‡πâ / ‡∏≠‡∏≤‡πÄ‡∏à‡∏µ‡∏¢‡∏ô", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Domperidone Susp (1mg/ml)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Domperidone (10mg)", "mg_ml": 1, "mg_kg": 0.25, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ 15-30 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "K59.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ó‡πâ‡∏≠‡∏á‡∏ú‡∏π‡∏Å / ‡∏Ç‡∏±‡∏ö‡∏ñ‡πà‡∏≤‡∏¢‡∏¢‡∏≤‡∏Å", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "MOM (Milk of Magnesia)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "‡∏¢‡∏≤‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏°‡∏∞‡∏Ç‡∏≤‡∏°‡πÅ‡∏Ç‡∏Å", "mg_ml": 1, "mg_kg": 0.5, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≠‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "M79.1", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏¢ / ‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Ibuprofen Susp (100mg/5ml)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Ibuprofen (400mg)", "mg_ml": 20, "mg_kg": 5, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡∏ô‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏¥‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î"},
        {"ICD10": "K08.8", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡∏ü‡∏±‡∏ô", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Ibuprofen Susp", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Mefenamic Acid", "mg_ml": 20, "mg_kg": 5, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡∏ô‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "G43.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡πÑ‡∏°‡πÄ‡∏Å‡∏£‡∏ô", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Paracetamol", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Cafergot", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡∏¥‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡πÄ‡∏î‡πá‡∏Å/‡∏Ñ‡∏ô‡∏ó‡πâ‡∏≠‡∏á ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏¥‡∏ô Cafergot"},
        {"ICD10": "N94.6", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Ponstan 500", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡∏ô‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "H81.1", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏´‡∏±‡∏ß / ‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏∏‡∏ô / ‡πÄ‡∏°‡∏≤‡∏£‡∏ñ", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Dimen Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Dimenhydrinate", "mg_ml": 3, "mg_kg": 1, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏∏‡∏Å 6-8 ‡∏ä‡∏°. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏á‡πà‡∏ß‡∏á‡∏ô‡∏≠‡∏ô‡∏°‡∏≤‡∏Å"},
        {"ICD10": "E51.1", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏´‡∏ô‡πá‡∏ö‡∏ä‡∏≤ / ‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Vit B Complex Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Vitamin B1-6-12", "mg_ml": 1, "mg_kg": 0.5, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 2, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "L23.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÅ‡∏°‡∏•‡∏á‡∏Å‡∏±‡∏î‡∏ï‡πà‡∏≠‡∏¢ / ‡∏ï‡∏∏‡πà‡∏°‡∏Ñ‡∏±‡∏ô", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Calamine Lotion / Systral", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Systral Cream", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏ô 2-3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡∏ß‡∏±‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≤‡πÅ‡∏ú‡∏•‡∏™‡∏î"},
        {"ICD10": "L50.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ú‡∏∑‡πà‡∏ô‡∏Ñ‡∏±‡∏ô / ‡∏•‡∏°‡∏û‡∏¥‡∏© / ‡∏Ñ‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "CPM Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Hydroxyzine", "mg_ml": 0.4, "mg_kg": 0.1, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ 3 ‡∏°‡∏∑‡πâ‡∏≠", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏á‡πà‡∏ß‡∏á‡∏ô‡∏≠‡∏ô‡∏°‡∏≤‡∏Å"},
        {"ICD10": "B35.3", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ / ‡∏ô‡πâ‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏ó‡πâ‡∏≤", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Clotrimazole Cream", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Clotrimazole Cream", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "H10.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ï‡∏≤‡πÅ‡∏î‡∏á / ‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á‡∏ï‡∏≤", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Antazoline Drops", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Antazoline Drops", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏¢‡∏≠‡∏î‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡∏∞ 1-2 ‡∏´‡∏¢‡∏î 3-4 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "H66.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡∏´‡∏π / ‡∏´‡∏π‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Ofloxacin Ear Drop", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Ofloxacin Ear Drop", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏¢‡∏≠‡∏î‡∏´‡∏π ‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "K12.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏≤‡∏Å‡∏ô‡∏Å‡∏Å‡∏£‡∏∞‡∏à‡∏≠‡∏Å / ‡πÅ‡∏ú‡∏•‡πÉ‡∏ô‡∏õ‡∏≤‡∏Å", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Trinolone Paste", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Trinolone Paste", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡πÅ‡∏ú‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≠‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "M62.8", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ï‡∏∞‡∏Ñ‡∏£‡∏¥‡∏ß / ‡∏Ç‡∏≤‡∏î‡πÅ‡∏Ñ‡∏•‡πÄ‡∏ã‡∏µ‡∏¢‡∏°", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Calcium Carbonate", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "F41.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏• / ‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Valerian Extract", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≠‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "N30.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏±‡∏™‡∏™‡∏≤‡∏ß‡∏∞‡πÅ‡∏™‡∏ö‡∏Ç‡∏±‡∏î", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Norfloxacin 400", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 2, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏¥‡∏ô‡∏à‡∏ô‡∏´‡∏°‡∏î‡πÅ‡∏ú‡∏á"},
        {"ICD10": "N76.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡∏´‡∏ô‡πà‡∏ß‡∏á‡∏ó‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏¢ / ‡∏ï‡∏Å‡∏Ç‡∏≤‡∏ß", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Ofloxacin 200", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 2, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÄ‡∏î‡πá‡∏Å/‡∏™‡∏ï‡∏£‡∏µ‡∏°‡∏µ‡∏Ñ‡∏£‡∏£‡∏†‡πå"},
        {"ICD10": "B37.3", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏•‡∏≠‡∏î", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "‡∏¢‡∏≤‡πÄ‡∏´‡∏ô‡πá‡∏ö Clotrimazole", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡πÄ‡∏´‡∏ô‡πá‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏•‡∏≠‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≠‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "T14.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÅ‡∏ú‡∏•‡∏™‡∏î / ‡πÅ‡∏ú‡∏•‡∏ñ‡∏•‡∏≠‡∏Å", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Betadine", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Betadine", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡πÅ‡∏ú‡∏•", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"},
        {"ICD10": "T30.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÅ‡∏ú‡∏•‡∏û‡∏∏‡∏û‡∏≠‡∏á / ‡∏ô‡πâ‡∏≥‡∏£‡πâ‡∏≠‡∏ô‡∏•‡∏ß‡∏Å", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Burnol", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Silver Sulfadiazine", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡πÅ‡∏ú‡∏•‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "W57", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏•", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "NSS (‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "NSS (‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠)", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡πÉ‡∏ä‡πâ‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏•", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "L08.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÅ‡∏ú‡∏•‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠/‡∏°‡∏µ‡∏´‡∏ô‡∏≠‡∏á", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Mupirocin Ointment", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Mupirocin Ointment", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡πÅ‡∏ú‡∏• 2-3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡∏ß‡∏±‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "K05.6", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏™‡∏µ‡∏¢‡∏ß‡∏ü‡∏±‡∏ô / ‡πÄ‡∏´‡∏á‡∏∑‡∏≠‡∏Å‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡∏ö‡πâ‡∏ß‡∏ô‡∏õ‡∏≤‡∏Å‡∏Ü‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πâ‡∏≠", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏≠‡∏°‡∏ö‡πâ‡∏ß‡∏ô‡∏õ‡∏≤‡∏Å‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏õ‡∏£‡∏á‡∏ü‡∏±‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "D50.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡πÑ‡∏£‡∏ü‡∏±‡∏ô", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Vit C Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Vitamin C 500mg", "mg_ml": 1, "mg_kg": 1, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "H04.1", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ï‡∏≤‡πÅ‡∏´‡πâ‡∏á / ‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏°", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏°", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏¢‡∏≠‡∏î‡∏ï‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "H61.2", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏Ç‡∏µ‡πâ‡∏´‡∏π‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Dewax", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Dewax", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏¢‡∏≠‡∏î‡∏´‡∏π‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ 5 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "B00.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏£‡∏¥‡∏° / ‡∏á‡∏π‡∏™‡∏ß‡∏±‡∏î", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Acyclovir Cream", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Acyclovir Cream", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡∏ó‡∏∏‡∏Å 4 ‡∏ä‡∏°.", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏≤"},
        {"ICD10": "L70.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏™‡∏¥‡∏ß‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Clindamycin Solution", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡πÅ‡∏ï‡πâ‡∏°‡∏´‡∏±‡∏ß‡∏™‡∏¥‡∏ß", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "B35.3", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏ó‡πâ‡∏≤‡πÄ‡∏´‡∏°‡πá‡∏ô / ‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πâ‡∏≤", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "‡πÅ‡∏õ‡πâ‡∏á‡πÇ‡∏¢‡∏Ñ‡∏µ", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡πÇ‡∏£‡∏¢‡πÄ‡∏ó‡πâ‡∏≤/‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "D50.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏î / ‡∏ã‡∏µ‡∏î", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Euro-Fer Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Ferrous Fumarate", "mg_ml": 1, "mg_kg": 0.5, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏≠‡∏∏‡∏à‡∏à‡∏≤‡∏£‡∏∞‡∏à‡∏∞‡∏°‡∏µ‡∏™‡∏µ‡∏î‡∏≥"},
        {"ICD10": "I10", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏™‡∏π‡∏á (‡∏¢‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏´‡∏°‡∏î)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Amlodipine 5mg", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏°", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏î‡∏¥‡∏°"},
        {"ICD10": "R55", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏´‡∏±‡∏ß / ‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏∑‡∏î", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "‡πÅ‡∏≠‡∏°‡πÇ‡∏°‡πÄ‡∏ô‡∏µ‡∏¢ (‡∏î‡∏°)", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "‡∏¢‡∏≤‡∏î‡∏° / ‡πÅ‡∏≠‡∏°‡πÇ‡∏°‡πÄ‡∏ô‡∏µ‡∏¢", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡πÉ‡∏ä‡πâ‡∏™‡∏π‡∏î‡∏î‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "T14.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡∏ö‡∏ß‡∏° (‡∏õ‡∏£‡∏∞‡∏Ñ‡∏ö‡πÄ‡∏¢‡πá‡∏ô)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Cool Pack", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Cool Pack", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏õ‡∏£‡∏∞‡∏Ñ‡∏ö 15-20 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏Ñ‡∏ö‡πÅ‡∏ú‡∏•‡∏™‡∏î"},
        {"ICD10": "L21.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏ã‡πá‡∏ö‡πÄ‡∏î‡∏¥‡∏£‡πå‡∏° / ‡∏ú‡∏¥‡∏ß‡∏•‡∏≠‡∏Å‡∏™‡∏∞‡πÄ‡∏Å‡πá‡∏î / ‡∏£‡∏±‡∏á‡πÅ‡∏Ñ", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Ketoconazole Cream", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Ketoconazole Cream", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 2, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡∏ö‡∏≤‡∏á‡πÜ ‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏î‡∏ß‡∏á‡∏ï‡∏≤"},
        {"ICD10": "H00.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ï‡∏≤‡∏Å‡∏∏‡πâ‡∏á‡∏¢‡∏¥‡∏á / ‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≤‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Terramycin Eye Ointment", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Terramycin Eye Ointment", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏õ‡πâ‡∏≤‡∏¢‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≠‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏õ‡∏•‡∏≤‡∏¢‡∏´‡∏•‡∏≠‡∏î"},
        {"ICD10": "M17.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡∏Ç‡πâ‡∏≠‡πÄ‡∏Ç‡πà‡∏≤ / ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Glucosamine Sulfate", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 1 ‡∏ã‡∏≠‡∏á", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÉ‡∏ô‡∏Ñ‡∏ô‡πÅ‡∏û‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏∞‡πÄ‡∏•"},
        {"ICD10": "K05.2", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏´‡∏á‡∏∑‡∏≠‡∏Å‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡∏≠‡∏á", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Amoxicillin Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Metronidazole 400", "mg_ml": 50, "mg_kg": 15, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏ä‡πâ‡∏≤-‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡∏î‡∏∑‡πà‡∏°‡πÅ‡∏≠‡∏•‡∏Å‡∏≠‡∏Æ‡∏≠‡∏•‡πå‡∏Ç‡∏ì‡∏∞‡∏Å‡∏¥‡∏ô‡∏¢‡∏≤"},
        {"ICD10": "J45.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏´‡∏≠‡∏ö‡∏´‡∏∑‡∏î / ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Salbutamol Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Salbutamol Inhaler", "mg_ml": 0.4, "mg_kg": 0.1, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏û‡πà‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ (‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà)", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏µ‡∏ö‡πÑ‡∏õ ‡∏£‡∏û."},
        {"ICD10": "N20.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ô‡∏¥‡πà‡∏ß‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏õ‡∏±‡∏™‡∏™‡∏≤‡∏ß‡∏∞ (‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Ural (‡∏¢‡∏≤‡∏Ç‡∏±‡∏ö‡∏ô‡∏¥‡πà‡∏ß)", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏°‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏Ñ‡∏ß‡∏£‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2-3 ‡∏•‡∏¥‡∏ï"},
        {"ICD10": "R63.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏ö‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£ / ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Lysine Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Vitamin B Complex", "mg_ml": 1, "mg_kg": 0.5, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "L20.9", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö / ‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏û‡πâ‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "TA Cream 0.02%", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "TA Cream 0.1%", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 2, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô ‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå"},
        {"ICD10": "G47.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö (‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏™‡∏∞‡∏™‡∏°)", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Melatonin 2mg", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≠‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏´‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏¥‡∏ô‡∏¢‡∏≤"},
        {"ICD10": "R53", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏≠‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏•‡∏µ‡∏¢ / ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏ô‡πâ‡∏≠‡∏¢", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Multivitamin Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Multivitamin Tablet", "mg_ml": 1, "mg_kg": 0.5, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "K20", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÅ‡∏™‡∏ö‡∏Ñ‡∏≠‡∏à‡∏≤‡∏Å‡∏Å‡∏£‡∏î‡πÑ‡∏´‡∏•‡∏¢‡πâ‡∏≠‡∏ô", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Alum Milk", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Miracid (Omeprazole)", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤ 30 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠"},
        {"ICD10": "L60.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡πÄ‡∏•‡πá‡∏ö‡∏Ç‡∏ö / ‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πá‡∏ö", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Fucidin Ointment", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Fucidin Ointment", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 2, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏ú‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≤"},
        {"ICD10": "M62.4", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ï‡∏∞‡∏Ñ‡∏£‡∏¥‡∏ß‡∏ô‡πà‡∏≠‡∏á / ‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏Å‡∏£‡πá‡∏á", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "-", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Magnesium Oxide", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 1, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏¢‡πá‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≠‡∏ô", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"},
        {"ICD10": "H92.0", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏õ‡∏ß‡∏î‡∏´‡∏π‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô/‡∏î‡∏≥‡∏ô‡πâ‡∏≥", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "CPM Syrup", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Pseudoephedrine", "mg_ml": 0.4, "mg_kg": 0.1, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 3, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏Å‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á 30 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÉ‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏™‡∏π‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ç‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå"},
        {"ICD10": "R23.4", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£": "‡∏ú‡∏¥‡∏ß‡πÅ‡∏´‡πâ‡∏á‡∏°‡∏≤‡∏Å / ‡∏ú‡∏¥‡∏ß‡πÅ‡∏ï‡∏Å", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å": "Urea Cream 5%", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà": "Urea Cream 10%", "mg_ml": 0, "mg_kg": 0, "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà": 2, "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ": "‡∏ó‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô": "-"}
    ]
    df = pd.DataFrame(med_list)
    df["display_name"] = df["ICD10"] + " - " + df["‡∏≠‡∏≤‡∏Å‡∏≤‡∏£"]

    # --- 6. ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å ---
    st.markdown("<div class='main-header'><h1>Kodchayo Smart Dispensing 2026</h1></div>", unsafe_allow_html=True)
    
    st.subheader("üë§ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ (Patient Information)")
    with st.container():
        col_p1, col_p2, col_p3, col_p4 = st.columns([1, 1, 1.2, 1.2])
        with col_p1: weight = st.number_input("‚öñÔ∏è ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡∏ß (kg):", min_value=1.0, max_value=200.0, value=15.0, step=0.1)
        with col_p2: age = st.number_input("üéÇ ‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏õ‡∏µ):", min_value=0, max_value=120, value=5)
        with col_p3:
            privilege = st.selectbox("üí≥ ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤:", ["‡∏ö‡∏±‡∏ï‡∏£‡∏ó‡∏≠‡∏á‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï", "‡∏ö‡∏±‡∏ï‡∏£‡∏ó‡∏≠‡∏á‡∏ô‡∏≠‡∏Å‡πÄ‡∏Ç‡∏ï", "‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£", "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°"])
            medical_cert = st.checkbox("üìÑ ‡∏Ç‡∏≠‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à (+50 ‡∏ö‡∏≤‡∏ó)")
        with col_p4:
            type_label = "üßë‚Äçü¶≤ Adult (‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà)" if age >= 12 else "üë∂ Pediatric (‡πÄ‡∏î‡πá‡∏Å)"
            st.markdown(f"<div class='patient-card'><small style='color: #64748b;'>Classification & Privilege:</small><br><b style='font-size: 18px; color: #1e40af;'>{type_label}</b><br><small style='color: #3b82f6;'>‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå: {privilege}</small></div>", unsafe_allow_html=True)

    st.markdown("---")
    st.subheader("üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô")
    col_s1, col_s2 = st.columns([2.5, 1])
    with col_s1: selected_displays = st.multiselect("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™ ICD-10:", sorted(df["display_name"].tolist()))
    with col_s2: days = st.number_input("üìÖ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢‡∏¢‡∏≤:", min_value=1, max_value=30, value=3)

    # ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÇ‡∏î‡∏™ (‡∏Ñ‡∏á‡πÄ‡∏î‡∏¥‡∏°)
    def calculate_smart_dose(row):
        restricted_for_kids = ["N30.9", "N76.0", "G43.9", "N94.6", "M17.9", "G47.0"]
        if age < 12 and row['ICD10'] in restricted_for_kids and row['‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å'] == "-": return "‚ùå ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÄ‡∏î‡πá‡∏Å"
        if age < 12:
            if row['mg_ml'] > 0:
                cc = (row['mg_kg'] * weight) / row['mg_ml']
                dose = round(cc, 1) if age < 2 else (int(cc) if cc % 1 <= 0.25 else (int(cc) + 0.5 if cc % 1 <= 0.75 else int(cc) + 1.0))
                dose = min(dose, 10.0 if "Syrup" in row['‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å'] else 15.0)
                return f"{dose} ml ({round(dose/5, 2)} ‡∏ä‡πâ‡∏≠‡∏ô‡∏ä‡∏≤)"
            return "1 ‡∏´‡∏ô‡πà‡∏ß‡∏¢ (‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÄ‡∏î‡πá‡∏Å)"
        return "1 ‡∏´‡∏ô‡πà‡∏ß‡∏¢ (‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô)"

    if selected_displays:
        final_res = df[df["display_name"].isin(selected_displays)].copy()
        final_res['‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢'] = final_res.apply(lambda r: r['‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà'] if age >= 12 else r['‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å'], axis=1)
        final_res['‡πÇ‡∏î‡∏™‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥/‡∏Ñ‡∏£‡∏±‡πâ‡∏á'] = final_res.apply(calculate_smart_dose, axis=1)
        final_res['‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°'] = final_res.apply(lambda r: "1 ‡∏Ç‡∏ß‡∏î" if "ml" in r['‡πÇ‡∏î‡∏™‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥/‡∏Ñ‡∏£‡∏±‡πâ‡∏á'] else f"{int(r['‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà'] * days)} ‡∏´‡∏ô‡πà‡∏ß‡∏¢", axis=1)

        st.markdown("### üìã ‡πÉ‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤ (Dispensing Sheet)")
        st.table(final_res[["ICD10", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£", "‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢", "‡πÇ‡∏î‡∏™‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥/‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ", "‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô"]])
        
        # ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô
        cert_fee = 50 if medical_cert else 0
        check_up_fee, med_fee = (0, 0) if privilege == "‡∏ö‡∏±‡∏ï‡∏£‡∏ó‡∏≠‡∏á‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï" else (50, 100)
        total_pay = check_up_fee + med_fee + cert_fee
        
        b1, b2, b3, b4 = st.columns(4)
        with b1: st.metric("‡∏Ñ‡πà‡∏≤‡∏ï‡∏£‡∏ß‡∏à", f"{check_up_fee} ‡∏ø")
        with b2: st.metric("‡∏Ñ‡πà‡∏≤‡∏¢‡∏≤", f"{med_fee} ‡∏ø")
        with b3: st.metric("‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå", f"{cert_fee} ‡∏ø")
        with b4: st.metric("‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥", f"{total_pay} ‡∏ø")

        c1, c2, c3 = st.columns(3)
        with c1: st.button("üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏¢‡∏≤", use_container_width=True)
        with col2 if 'col2' in locals() else c2:
            if st.button("üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞", key="btn_save", use_container_width=True):
                if save_to_history(st.session_state.user, weight, age, selected_displays, final_res['‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢'].tolist(), privilege, total_pay):
                    st.success("‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!")
                    st.rerun()
        with c3: st.button("üìß ‡∏™‡πà‡∏á Email", use_container_width=True)

    # --- 7. History Section (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà Error) ---
    st.markdown("---")
    st.subheader("üìÇ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÄ‡∏ß‡∏ä‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î")
    if os.path.exists(LOG_FILE):
        try:
            # ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡πÄ‡∏û‡∏¥‡πà‡∏° on_bad_lines='skip' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≤‡∏°‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏µ‡∏¢
            history_df = pd.read_csv(LOG_FILE, sep='|', encoding="utf-8-sig", on_bad_lines='skip')
            st.dataframe(history_df.tail(10), use_container_width=True, hide_index=True)
            if st.button("üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", type="secondary"):
                if delete_history(): st.rerun()
        except Exception as e:
            st.error(f"‡πÑ‡∏ü‡∏•‡πå‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà")
            if st.button("üóëÔ∏è ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢"): 
                delete_history()
                st.rerun()
    else:
        st.write("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö")

    with st.expander("ü©∫ ‡∏î‡∏π‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"):
        st.dataframe(df[["ICD10", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£", "‡∏¢‡∏≤_‡πÄ‡∏î‡πá‡∏Å", "‡∏¢‡∏≤_‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà", "‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ", "‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô"]], use_container_width=True, hide_index=True)

    st.markdown("<div style='text-align: center; color: #94a3b8; padding-top: 50px;'><p>¬© 2026 Kodchayo Medical System</p></div>", unsafe_allow_html=True)

